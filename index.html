<!DOCTYPE html>
<html>

<head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta aframe-injected="" name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,shrink-to-fit=no,user-scalable=no,minimal-ui">
    <meta aframe-injected="" name="mobile-web-app-capable" content="yes">
    <meta aframe-injected="" name="theme-color" content="black">

    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>

    <script src="https://raw.githack.com/jeromeetienne/AR.js/2.0.8/aframe/build/aframe-ar.js"></script>
    <script>
        AFRAME.registerComponent('vidhandler', {
            // define a variable in which we will keep the video element
            schema: {
                video: {
                    type: 'selector'
                },
            },
            init: function() {
                // Set up initial state and variables.
                this.toggle = false;
                this.vid = this.data.video;
                this.vid.pause();
            },
            tick: function() {

                if (this.el.object3D.visible == true) {
                    if (!this.toggle) {
                        this.toggle = true;
                        this.vid.play();
                        document.querySelector("button").addEventListener("click", (e) => {
                            this.vid.play();
                        })
                    }
                } else {
                    this.toggle = false;
                    this.vid.pause();
                }
            }
        });
    </script>
</head>
<div style='position: fixed; top: 10px; left: 10px; width:100%; text-align: center; z-index: 1;'>
    <button>
        Play on iOS
    </button>
</div>

<body>
    <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
        <a-assets>
            <video id="tool" src="https://cdn.glitch.com/c8c8b7ec-a776-4f2a-94f1-6a3d9e6f26ec%2Fvideoplayback.mp4?v=1574415262523" loop="true" crossorigin autoplay playsinline webkit-playsinline></video>
            <video id="museum" src="https://cdn.glitch.com/c8c8b7ec-a776-4f2a-94f1-6a3d9e6f26ec%2Fbrail_museum.mp4?v=1574819058581" loop="true" crossorigin autoplay playsinline webkit-playsinline></video>
            
            <video id="city_pass" src="./assets/city_pass.mp4" loop="true" crossorigin autoplay playsinline webkit-playsinline muted></video>
            <video id="billet_ticket" src="./assets/billet_ticket.mp4" loop="true" crossorigin autoplay playsinline webkit-playsinline muted></video>
            <video id="s_train" src="./assets/s_train.mp4" loop="true" crossorigin autoplay playsinline webkit-playsinline muted></video>
            <video id="train_map" src="./assets/train_map.mp4" loop="true" crossorigin autoplay playsinline webkit-playsinline muted></video>

            <video id="tcs_50" src="./assets/tcs_50.mp4" loop="true" crossorigin autoplay playsinline webkit-playsinline muted></video>
            <video id="tcs_digital_software_solutions" src="./assets/tcs_digital_software_solutions.mp4" loop="true" crossorigin autoplay playsinline webkit-playsinline muted></video>
            <video id="tcs_enterprise_cloud" src="./assets/tcs_enterprise_cloud.mp4" loop="true" crossorigin autoplay playsinline webkit-playsinline muted></video>
            <video id="what_is_business_40" src="./assets/what_is_business_40.mp4" loop="true" crossorigin autoplay playsinline webkit-playsinline muted></video>




        </a-assets>

        <a-marker type='pattern' url='./assets/pattern-belgiumrail.patt' vidhandler="video: #tool">
            <a-plane src="#tool" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>

        <a-marker type='pattern' url='./assets/pattern-Le_Belge_1835.patt' vidhandler="video: #museum">
            <a-plane src="#museum" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>

        <a-marker type='pattern' url='./assets/pattern-citypass.patt' vidhandler="video: #city_pass">
            <a-plane src="#city_pass" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>

        <a-marker type='pattern' url='./assets/pattern-ticket.patt' vidhandler="video: #billet_ticket">
            <a-plane src="#billet_ticket" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>

        <a-marker type='pattern' url='./assets/pattern-s-train.patt' vidhandler="video: #s_train">
            <a-plane src="#s_train" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>

        <a-marker type='pattern' url='./assets/pattern-train_map.patt' vidhandler="video: #train_map">
            <a-plane src="#train_map" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>



        <a-marker type='pattern' url='./assets/pattern-tcs_50.patt' vidhandler="video: #tcs_50">
            <a-plane src="#tcs_50" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>

        <a-marker type='pattern' url='./assets/pattern-tcs_digital.patt' vidhandler="video: #tcs_digital_software_solutions">
            <a-plane src="#tcs_digital_software_solutions" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>

        <a-marker type='pattern' url='./assets/pattern-tcs_cloud.patt' vidhandler="video: #tcs_enterprise_cloud">
            <a-plane src="#tcs_enterprise_cloud" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>

        <a-marker type='pattern' url='./assets/pattern-tcs_business_40.patt' vidhandler="video: #what_is_business_40">
            <a-plane src="#what_is_business_40" width="3" height="1.5" position="0 0 -1" rotation="-90 0 0 "> </a-plane>
        </a-marker>










        <a-entity camera vidhandler></a-entity>
    </a-scene>

</body>

</html>
